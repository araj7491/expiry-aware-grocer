import type { Alert, AlertStats } from '@/types/alert';
import { addMinutes, addHours, addDays } from 'date-fns';

const now = new Date();

export const mockAlertsData: Alert[] = [
  {
    id: '1',
    type: 'expiry',
    priority: 'critical',
    title: 'Critical: 3 Products Expiring Today',
    message: 'Whole Wheat Bread, Fresh Prawns, and Croissants are expiring today. Immediate action required.',
    timestamp: addMinutes(now, -15),
    read: false,
    actionRequired: true,
    productId: '1',
  },
  {
    id: '2',
    type: 'temperature',
    priority: 'critical',
    title: 'Temperature Breach in Cold Storage A2',
    message: 'Temperature rose to 8°C. Normal range: 2-4°C. Check cooling system immediately.',
    timestamp: addMinutes(now, -30),
    read: false,
    actionRequired: true,
    facilityId: 'CS-A2',
  },
  {
    id: '3',
    type: 'low-stock',
    priority: 'high',
    title: 'Low Stock Alert: Fresh Milk',
    message: 'Only 45 liters remaining. Reorder threshold: 100 liters.',
    timestamp: addHours(now, -2),
    read: false,
    actionRequired: true,
    productId: '3',
  },
  {
    id: '4',
    type: 'expiry',
    priority: 'high',
    title: '5 Products Expiring in 2-5 Days',
    message: 'Organic Bananas, Fresh Spinach, Chicken Breast, and 2 others need immediate discount or redistribution.',
    timestamp: addHours(now, -4),
    read: true,
    actionRequired: true,
  },
  {
    id: '5',
    type: 'quality',
    priority: 'high',
    title: 'Quality Degradation Alert: Strawberries',
    message: 'Visual inspection shows early signs of spoilage. Consider immediate sale or processing.',
    timestamp: addHours(now, -6),
    read: false,
    actionRequired: true,
    productId: '15',
  },
  {
    id: '6',
    type: 'temperature',
    priority: 'medium',
    title: 'Temperature Fluctuation in Cold Storage B1',
    message: 'Temperature varied between 3-6°C in the last hour. Monitor closely.',
    timestamp: addHours(now, -8),
    read: true,
    actionRequired: false,
    facilityId: 'CS-B1',
  },
  {
    id: '7',
    type: 'system',
    priority: 'medium',
    title: 'Backup Power Test Scheduled',
    message: 'Scheduled power backup test tomorrow at 2:00 AM. Expected duration: 15 minutes.',
    timestamp: addHours(now, -10),
    read: true,
    actionRequired: false,
  },
  {
    id: '8',
    type: 'expiry',
    priority: 'medium',
    title: '12 Products Expiring This Week',
    message: 'Plan discount strategy or contact bulk buyers for near-expiry items.',
    timestamp: addHours(now, -12),
    read: true,
    actionRequired: true,
  },
  {
    id: '9',
    type: 'low-stock',
    priority: 'medium',
    title: 'Stock Running Low: Paneer',
    message: '35 kg remaining. Consider reordering soon.',
    timestamp: addDays(now, -1),
    read: true,
    actionRequired: false,
    productId: '20',
  },
  {
    id: '10',
    type: 'quality',
    priority: 'low',
    title: 'Routine Quality Check Due',
    message: 'Monthly quality inspection due for Cold Storage D1.',
    timestamp: addDays(now, -1),
    read: true,
    actionRequired: false,
    facilityId: 'CS-D1',
  },
  {
    id: '11',
    type: 'system',
    priority: 'low',
    title: 'Software Update Available',
    message: 'New version 2.4.1 available with enhanced reporting features.',
    timestamp: addDays(now, -2),
    read: true,
    actionRequired: false,
  },
  {
    id: '12',
    type: 'expiry',
    priority: 'critical',
    title: 'Urgent: Sliced Bread Expiring Tomorrow',
    message: '40 loaves expiring in 1 day. Contact nearby NGOs or processing units.',
    timestamp: addMinutes(now, -45),
    read: false,
    actionRequired: true,
    productId: '11',
  },
  {
    id: '13',
    type: 'temperature',
    priority: 'high',
    title: 'High Humidity in Cold Storage C2',
    message: 'Humidity level at 85%. Optimal range: 60-70%. Check dehumidifier.',
    timestamp: addHours(now, -3),
    read: false,
    actionRequired: true,
    facilityId: 'CS-C2',
  },
  {
    id: '14',
    type: 'low-stock',
    priority: 'high',
    title: 'Critical Stock: Salmon Fillets',
    message: 'Only 20 kg left. High demand item, immediate reorder recommended.',
    timestamp: addHours(now, -5),
    read: false,
    actionRequired: true,
    productId: '21',
  },
  {
    id: '15',
    type: 'system',
    priority: 'high',
    title: 'Sensor Battery Low: CS-B2',
    message: 'Temperature sensor battery at 15%. Replace within 48 hours.',
    timestamp: addHours(now, -7),
    read: true,
    actionRequired: true,
    facilityId: 'CS-B2',
  },
];

export const mockAlertStats: AlertStats = {
  total: mockAlertsData.length,
  critical: mockAlertsData.filter(a => a.priority === 'critical').length,
  high: mockAlertsData.filter(a => a.priority === 'high').length,
  medium: mockAlertsData.filter(a => a.priority === 'medium').length,
  low: mockAlertsData.filter(a => a.priority === 'low').length,
  unread: mockAlertsData.filter(a => !a.read).length,
};
